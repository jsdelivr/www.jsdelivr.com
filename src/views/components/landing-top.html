<link rel="ractive" href="./slider.html" name="c-slider">
<link rel="ractive" href="./slide.html" name="c-slide">

<div class="c-landing-top">
	<div class="bg"></div>

	<div class="content">
		<div class="container">
			<section class="heading">
				<h1>jsDelivr â€“ Open Source CDN</h1>
				<h2>free, fast, and reliable</h2>

				<div class="heading-message">
					{{#if headingMessage === 0}}
					<div slide-in-out>serving ~ {{_.formatHits(networkStats.hits.total)}} billion requests / month</div>
					{{elseif headingMessage === 1}}
					<div slide-in-out>serving ~ {{_.formatMiB2TiB(networkStats.megabytes.total)}} TiB / month</div>
					{{elseif headingMessage === 2}}
					<div slide-in-out>around since 2012</div>
					{{/if}}
				</div>
			</section>

			<section class="docs">
				<div class="row">
					<div class="col-md-3 docs-tabs">
						<div class="docs-tab">
							<a on-click="@this.set('activeDocs', '')" class="{{#unless activeDocs}}active{{/unless}}">
								<img src="/img/landing/npm.png" srcset="/img/landing/npm@2x.png 2x">
							</a>
						</div>

						<div class="docs-tab">
							<a on-click="@this.set('activeDocs', 'gh')" class="{{#if activeDocs === 'gh'}}active{{/if}}">
								<img src="/img/landing/github.png" srcset="/img/landing/github@2x.png 2x">
							</a>
						</div>

						<div class="docs-tab">
							<a on-click="@this.set('activeDocs', 'wp')" class="{{#if activeDocs === 'wp'}}active{{/if}}">
								<img src="/img/landing/wordpress.png" srcset="/img/landing/wordpress@2x.png 2x">
							</a>
						</div>

						<div class="active-tab-arrow" style="top: {{activeDocsArrowTop}}%"></div>
					</div>

					<div class="col-md-9 docs-code">
						<div class="docs-code-bg">
							<c-slider active="{{activeSlide}}" direction="vertical" distance="500">
								<c-slide>
									<div class="docs-code-slide">
										<p class="docs-comment">// load any project hosted on npm</p>
										<p class="docs-link">https://cdn.jsdelivr.net/npm/package@version/file</p>
										<br>
										<p class="docs-comment">// load jQuery v3.2.1</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js">
												https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js
											</a>
										</p>
										<br>
										<p class="docs-comment">// use a version range instead of a specific version</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js">
												https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js
											</a>
										</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js">
												https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js
											</a>
										</p>
										<br>
										<p class="docs-comment">// omit the version completely to get the latest one</p>
										<p class="docs-comment">// you should NOT use this in production</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js">
												https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js
											</a>
										</p>
										<br>
										<p class="docs-comment">// add ".min" to any JS/CSS file to get a minified version</p>
										<p class="docs-comment">// if one doesn't exist, we'll generate it for you</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/npm/jquery@3.2.1/src/core.min.js">
												https://cdn.jsdelivr.net/npm/jquery@3.2.1/src/core.min.js
											</a>
										</p>
										<br>
										<p class="docs-comment">// omit the file path to get the default file</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/npm/jquery@3.2">
												https://cdn.jsdelivr.net/npm/jquery@3.2
											</a>
										</p>
										<br>
										<p class="docs-comment">// add / at the end to get a directory listing</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/npm/jquery/">https://cdn.jsdelivr.net/npm/jquery/</a>
										</p>
										<a class="docs-how-it-works router-ignore" target="_blank" href="/network/infographic" style="right: -80px;">How it works</a>
									</div>
								</c-slide>

								<c-slide>
									<div class="docs-code-slide">
										<p class="docs-comment">// load any GitHub release or commit</p>
										<p class="docs-comment">// note: we recommend using npm for projects that support it</p>
										<p class="docs-link">https://cdn.jsdelivr.net/gh/user/repo@version/file</p>
										<br>
										<p class="docs-comment">// load jQuery v3.2.1</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js">
												https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js
											</a>
										</p>
										<br>
										<p class="docs-comment">// use a version range instead of a specific version</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.js">
												https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.js
											</a>
										</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js">
												https://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js
											</a>
										</p>
										<br>
										<p class="docs-comment">// omit the version completely to get the latest one</p>
										<p class="docs-comment">// you should NOT use this in production</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js">
												https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js
											</a>
										</p>
										<br>
										<p class="docs-comment">// add ".min" to any JS/CSS file to get a minified version</p>
										<p class="docs-comment">// if one doesn't exist, we'll generate it for you</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js">
												https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js
											</a>
										</p>
										<br>
										<p class="docs-comment">// add / at the end to get a directory listing</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/gh/jquery/jquery/">
												https://cdn.jsdelivr.net/gh/jquery/jquery/
											</a>
										</p>
										<a class="docs-how-it-works router-ignore" target="_blank" href="/network/infographic" style="right: -20px;">How it works</a>
									</div>
								</c-slide>

								<c-slide>
									<div class="docs-code-slide docs-code-slide-wp">
										<p class="docs-comment">// load any plugin from the WordPress.org plugins SVN repo</p>
										<p class="docs-link">https://cdn.jsdelivr.net/wp/plugins/project/tags/version/file</p>
										<br>
										<p class="docs-comment">// load an exact version</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/wp/plugins/wp-slimstat/tags/4.6.5/wp-slimstat.js">
												https://cdn.jsdelivr.net/wp/plugins/wp-slimstat/tags/4.6.5/wp-slimstat.js
											</a>
										</p>
										<br>
										<p class="docs-comment">// load the latest version</p>
										<p class="docs-comment">// you should NOT use this in production</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/wp/plugins/wp-slimstat/trunk/wp-slimstat.js">
												https://cdn.jsdelivr.net/wp/plugins/wp-slimstat/trunk/wp-slimstat.js
											</a>
										</p>
										<br>
										<p class="docs-comment">// load any theme from the WordPress.org themes SVN repo</p>
										<p class="docs-link">https://cdn.jsdelivr.net/wp/themes/project/version/file</p>
										<br>
										<p class="docs-comment">// load an exact version</p>
										<p class="docs-link">
											<a target="_blank" href="https://cdn.jsdelivr.net/wp/themes/twenty-eightteen/1.7/assets/js/html5.js">
												https://cdn.jsdelivr.net/wp/themes/twenty-eightteen/1.7/assets/js/html5.js
											</a>
										</p>
									</div>
								</c-slide>
							</c-slider>
						</div>
					</div>
				</div>
			</section>

			<section class="sponsors">
				<div class="sponsors-text">jsDelivr operates thanks to our main sponsors:</div>

				<div class="sponsor">
					<a target="_blank" href="https://www.cedexis.com"><img src="/img/landing/cedexis.png" srcset="/img/landing/cedexis@2x.png 2x" title="Sponsored by Cedexis"></a>
				</div>

				<div class="sponsor">
					<a target="_blank" href="https://www.stackpath.com"><img src="/img/landing/stackpath.png" srcset="/img/landing/stackpath@2x.png 2x" title="Sponsored by StackPath"></a>
				</div>

				<div class="sponsor">
					<a target="_blank" href="https://www.cloudflare.com"><img src="/img/landing/cloudflare.png" srcset="/img/landing/cloudflare@2x.png 2x" title="Sponsored by Cloudflare"></a>
				</div>

				<div class="sponsor">
					<a target="_blank" href="https://www.fastly.com"><img src="/img/landing/fastly.png" srcset="/img/landing/fastly@2x.png 2x" title="Sponsored by Fastly"></a>
				</div>

				<div class="sponsor">
					<a target="_blank" href="https://ns1.com"><img src="/img/landing/ns1.png" srcset="/img/landing/ns1@2x.png 2x" title="Sponsored by NS1"></a>
				</div>

				<div class="sponsor">
					<a target="_blank" href="https://perfops.net/"><img src="/img/landing/perfops.png" srcset="/img/landing/perfops@2x.png 2x" title="Sponsored by PerfOps"></a>
				</div>
			</section>
		</div>
	</div>
</div>

<script>
	const _ = require('../../public/js/_');
	const http = require('../../public/js/utils/http');
	const docs = [ '', 'gh', 'wp' ];

	component.exports = {
		noIntro: true,
		computed: {
			activeDocsArrowTop () {
				return this.get('activeSlide') * 100 / 3 + 100 / 6;
			},
		},
		data () {
			return {
				_,
				activeDocs: '',
				headingMessage: 0,
				networkStats: {
					hits: {
						total: 2e10,
					},
					megabytes: {
						total: 500 * 1024 * 1024,
					},
				},
			};
		},
		oninit () {
			// It's too soon to call the show method here.
			this.findComponent('c-slider').set('active', docs.indexOf(this.get('activeDocs')) !== -1 ? docs.indexOf(this.get('activeDocs')) : 0);

			if (!Ractive.isServer) {
				this.observe('activeDocs', (newValue) => {
					this.findComponent('c-slider').show(docs.indexOf(newValue) !== -1 ? docs.indexOf(newValue) : 0);
				}, { init: false });

				// Load network stats.
				http.fetchNetworkStats().then((data) => {
					this.animate('networkStats', data);
				});

				setTimeout(() => {
					this.set('headingMessage', Math.ceil(Math.random() * 2));

					setInterval(() => {
						if (this.get('headingMessage') < 2) {
							this.add('headingMessage');
						} else {
							this.set('headingMessage', 0);
						}
					}, 4000);
				}, 3000);
			}
		},
	};
</script>
