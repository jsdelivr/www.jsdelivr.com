<link rel="ractive" href="./slider.html" name="c-slider">
<link rel="ractive" href="./slide.html" name="c-slide">

<div class="c-landing-top">

	<div class="content">
		<div class="container">

			<section class="heading">
				<span>Fast. Reliable. Automated.</span>
				<h1>A free CDN for open source projects</h1>
				<p>Optimized for JS and ESM delivery. Full NPM and GitHub integration. Works with all web formats.</p>
			</section>

			<section class="stats">
				<div>
					<h3>{{_.formatHits(networkStats.hits.total)}} billion request</h3>
					<span>last month</span>
				</div>
				<div>
					<h3>over {{_.formatMiB2TiB(networkStats.megabytes.total)}} TiB</h3>
					<span>last month</span>
				</div>
			</section>	

      
      <section class="docs">
			<div class="docs-tabs">
				<div class="docs-wrapper flex">
					<div class="docs-tab {{#unless activeDocs}}active-docs-tab{{/unless}}">
						<a on-click="@this.set('activeDocs', '')" class="{{#unless activeDocs}}active{{/unless}}">
							<img src="{{@shared.assetsHost}}/img/landing/new/docs-code/npm.svg">
						</a>
					</div>
						
            		<div class="docs-tab {{#if activeDocs === 'esm'}}active-docs-tab{{/if}}">
						<a on-click="@this.set('activeDocs', 'esm')" class="{{#if activeDocs === 'esm'}}active{{/if}}">
							<img src="{{@shared.assetsHost}}/img/landing/new/docs-code/esm.svg">	
						</a>
					</div>
	
            		<div class="docs-tab {{#if activeDocs === 'gh'}}active-docs-tab{{/if}}">
						<a on-click="@this.set('activeDocs', 'gh')" class="{{#if activeDocs === 'gh'}}active{{/if}}">
							<img src="{{@shared.assetsHost}}/img/landing/new/docs-code/github.svg">
						</a>
					</div>
	
            		<div class="docs-tab {{#if activeDocs === 'wp'}}active-docs-tab{{/if}}">
						<a on-click="@this.set('activeDocs', 'wp')" class="{{#if activeDocs === 'wp'}}active{{/if}}">
							<img src="{{@shared.assetsHost}}/img/landing/new/docs-code/wordpress.svg">
						</a>
					</div>

					<div class="active-tab-line" style="left: {{activeDocsLineLeft}}%"></div>
          			<div class="dropdown">
  						<button class="dropdown-toggle" type="button" id="cdn-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
							<div class="selected">
								<img src="{{ @shared.assetsHost }}/img/landing/new/docs-code/{{ cdnsList[activeDocsIndex].image }}">
							</div>
							<img width="20" height="20" src="{{@shared.assetsHost}}/img/icons/chevron-down.white.svg" loading="lazy"/>
  						</button>
  						<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="cdn-dropdown">
							{{#each ~/cdnsList}}
								{{ #if activeDocs !== .slug }}
									<li>
										<a on-click="@this.set('activeDocs', .slug)">
											<img src="{{ @shared.assetsHost }}/img/landing/new/docs-code/{{ .image }}">
										</a>
									</li>
								{{ /if }}
							{{/each}}
  						</ul>
					</div>
				</div>
			</div>
				

			<div class="docs-code">
				<div class="docs-wrapper">
					<c-slider active="{{activeSlide}}" direction="horizontal" distance="500">
						<c-slide>
							<div class="docs-code-slide">

								<p class="docs-comment">// load any project hosted on npm</p>
								<p class="docs-link">https://cdn.jsdelivr.net/npm/package@version/file</p>
								<br>
								<p class="docs-comment">// load jQuery v3.2.1</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js">
										https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// use a version range instead of a specific version</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js">
										https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js
									</a>
								</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js">
										https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// omit the version completely to get the latest one</p>
								<p class="docs-comment">// you should NOT use this in production</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js">
										https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// add ".min" to any JS/CSS file to get a minified version</p>
								<p class="docs-comment">// if one doesn't exist, we'll generate it for you</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/npm/jquery@3.2.1/src/core.min.js">
										https://cdn.jsdelivr.net/npm/jquery@3.2.1/src/core.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// omit the file path to get the default file</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/npm/jquery@3.2">
										https://cdn.jsdelivr.net/npm/jquery@3.2
									</a>
								</p>
								<br>
								<p class="docs-comment">// add / at the end to get a directory listing</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/npm/jquery/">https://cdn.jsdelivr.net/npm/jquery/</a>
								</p>
							</div>
						</c-slide>

						<c-slide>
							<div class="docs-code-slide">
								<p class="docs-comment">// load any GitHub release, commit, or branch</p>
								<p class="docs-comment">// note: we recommend using npm for projects that support it</p>
								<p class="docs-link">https://cdn.jsdelivr.net/gh/user/repo@version/file</p>
								<br>
								<p class="docs-comment">// load jQuery v3.2.1</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js">
										https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// use a version range instead of a specific version</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.js">
										https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.js
									</a>
								</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js">
										https://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// omit the version completely to get the latest one</p>
								<p class="docs-comment">// you should NOT use this in production</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js">
										https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// add ".min" to any JS/CSS file to get a minified version</p>
								<p class="docs-comment">// if one doesn't exist, we'll generate it for you</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js">
										https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// add / at the end to get a directory listing</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery/">
										https://cdn.jsdelivr.net/gh/jquery/jquery/
									</a>
								</p>
							</div>
						</c-slide>

						<c-slide>
							<div class="docs-code-slide">
								<p class="docs-comment">// load any GitHub release, commit, or branch</p>
								<p class="docs-comment">// note: we recommend using npm for projects that support it</p>
								<p class="docs-link">https://cdn.jsdelivr.net/gh/user/repo@version/file</p>
								<br>
								<p class="docs-comment">// load jQuery v3.2.1</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js">
										https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// use a version range instead of a specific version</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.js">
										https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.js
									</a>
								</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js">
										https://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// omit the version completely to get the latest one</p>
								<p class="docs-comment">// you should NOT use this in production</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js">
										https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// add ".min" to any JS/CSS file to get a minified version</p>
								<p class="docs-comment">// if one doesn't exist, we'll generate it for you</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js">
										https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// add / at the end to get a directory listing</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/gh/jquery/jquery/">
										https://cdn.jsdelivr.net/gh/jquery/jquery/
									</a>
								</p>
							</div>
						</c-slide>

						<c-slide>
							<div class="docs-code-slide docs-code-slide-wp">
								<p class="docs-comment">// load any plugin from the WordPress.org plugins SVN repo</p>
								<p class="docs-link">https://cdn.jsdelivr.net/wp/plugins/project/tags/version/file</p>
								<br>
								<p class="docs-comment">// load an exact version</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/wp/plugins/wp-slimstat/tags/4.6.5/wp-slimstat.js">
										https://cdn.jsdelivr.net/wp/plugins/wp-slimstat/tags/4.6.5/wp-slimstat.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// load the latest version</p>
								<p class="docs-comment">// you should NOT use this in production</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/wp/plugins/wp-slimstat/trunk/wp-slimstat.js">
										https://cdn.jsdelivr.net/wp/plugins/wp-slimstat/trunk/wp-slimstat.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// load any theme from the WordPress.org themes SVN repo</p>
								<p class="docs-link">https://cdn.jsdelivr.net/wp/themes/project/version/file</p>
								<br>
								<p class="docs-comment">// load an exact version</p>
								<p class="docs-link">
									<a target="_blank" rel="noopener noreferrer" href="https://cdn.jsdelivr.net/wp/themes/twenty-eightteen/1.7/assets/js/html5.js">
										https://cdn.jsdelivr.net/wp/themes/twenty-eightteen/1.7/assets/js/html5.js
									</a>
								</p>
								<br>
								<p class="docs-comment">// add ".min" to any JS/CSS file to get a minified version</p>
								<p class="docs-comment">// if one doesn't exist, we'll generate it for you</p>
							</div>
						</c-slide>
					</c-slider>
				</div>
				<a class="btn-docview btn-grey btn-sm" href="https://github.com/jsdelivr/jsdelivr#usage-documentation" target="_blank">
					<img src="{{ @shared.assetsHost }}/img/icons/info_circle.svg">Full docs
				</a>
			</div>
		</section>

			<section class="sponsors">
				<span>jsDelivr operates thanks to our main sponsors:</span>
				
				<div class="flex">
					<div class="sponsor-item">
						<a target="_blank" rel="noopener noreferrer" href="https://www.cloudflare.com"><img width="149" height="50" src="{{@shared.assetsHost}}/img/landing/cloudflare.png" srcset="{{@shared.assetsHost}}/img/landing/cloudflare@2x.png 2x" title="Sponsored by Cloudflare"></a>
					</div>
					<div class="sponsor-item">
						<a target="_blank" rel="noopener noreferrer" href="https://www.fastly.com"><img width="116" height="50" src="{{@shared.assetsHost}}/img/landing/fastly.png" srcset="{{@shared.assetsHost}}/img/landing/fastly@2x.png 2x" title="Sponsored by Fastly"></a>
					</div>
					<div class="sponsor-item">
						<a target="_blank" rel="noopener noreferrer" href="https://ns1.com"><img width="94" height="50" src="{{@shared.assetsHost}}/img/landing/ns1.png" srcset="{{@shared.assetsHost}}/img/landing/ns1@2x.png 2x" title="Sponsored by NS1"></a>
					</div>
					<div class="sponsor-item">
						<a target="_blank" rel="noopener noreferrer" href="https://gcorelabs.com/"><img width="191" height="40" src="{{@shared.assetsHost}}/img/landing/new/gcorelabs.svg" title="Sponsored by G-Core Labs"></a>
					</div>
					<div class="sponsor-item">
						<a target="_blank" rel="noopener noreferrer" href="https://bunny.net"><img width="172" height="50" src="{{@shared.assetsHost}}/img/landing/bunny.png" srcset="{{@shared.assetsHost}}/img/landing/bunny@2x.png 2x" title="Sponsored by bunny.net"></a>
					</div>
					<div class="sponsor-item">
						<a target="_blank" rel="noopener noreferrer" href="https://render.com/"><img width="186" height="50" src="{{@shared.assetsHost}}/img/landing/render.png" srcset="{{@shared.assetsHost}}/img/landing/render@2x.png 2x" title="Sponsored by render.com"></a>
					</div>
				</div>

			</section>
		</div>
	</div>
</div>

<script>
	const _ = require('../../public/js/_');
	const http = require('../../public/js/utils/http');
	const docs = [ '', 'esm', 'gh', 'wp' ];

	component.exports = {
		noIntro: true,
		computed: {
			activeDocsLineLeft () {
				return this.get('activeSlide') * 25;
			},
			activeDocsIndex() {
				return docs.indexOf(this.get('activeDocs'));
			}
		},
		data () {
			return {
				_,
				activeDocs: '',
				networkStats: {
					hits: {
						total: 8e10,
					},
					megabytes: {
						total: 1800 * 1024 * 1024,
					},
				},
				cdnsList: [
					{ slug:'', label:'npm', image: "npm.svg" },
					{ slug:'esm', label:'esm', image: "esm.svg" },
					{ slug:'gh', label:'GitHub', image: "github.svg" },
					{slug:'wp', label:'WordPress', image: "wordpress.svg" }
				]
			};
		},
		oninit () {
			// It's too soon to call the show method here.
			this.findComponent('c-slider').set('active', docs.indexOf(this.get('activeDocs')) !== -1 ? docs.indexOf(this.get('activeDocs')) : 0);

			if (!Ractive.isServer) {
				this.observe('activeDocs', (newValue) => {
					this.findComponent('c-slider').show(docs.indexOf(newValue) !== -1 ? docs.indexOf(newValue) : 0);
				}, { init: false });

				// Load network stats.
				http.fetchNetworkStats().then((data) => {
					this.animate('networkStats', data);
				});
			}
		},
	};
</script>
